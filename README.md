# Spring Boot Jasper Reports Tutorial
This project is a simple Spring Boot app generated using the Spring Boot initializr from [https://start.spring.io/](https://start.spring.io/) to demonstrate embedding Jasper Report in a java web app.

- [x] Spring boot app
- [x] Deploy to Tomcat server as .war file
- [x] Jasper Reports IO as report-generation backend
- [x] Demo for generating report from the Spring app in `/api/view`
- [x] Demo for CRUD functionality from the Spring app
- [x] Demo for generating reports from the JasperReport IO server API

# Prerequisites
- [x] JasperReports IO for report generation API - [download](https://community.jaspersoft.com/)
- [x] JasperReports Library to generate PDF from the Spring boot app - [download](https://community.jaspersoft.com/)
- [x] Tomcat - [download](https://tomcat.apache.org/download-90.cgi)
- [x] JasperSoft Studio Professional for designing reports - [download](https://community.jaspersoft.com/)
- [x] MariaDB/MySQL server for sample API
- [x] IntelliJ IDEA (optional)
- [x] Smart Tomcat plugin for IntelliJ IDEA (optional)
- [x] Postman for testing REST API

# Tomcat Configuration
1. Extract all contents of the downloaded jrio-x.x.x archive file
2. Extract all contents of the downloaded Tomcat archive file inside the jrio dir
3. Symlink all contents excluding the `ROOT` from `jrio/webapps` directory to `tomcat/webapps`
4. From the terminal `cd` to Tomcat dir then start Tomcat server by running the `start.sh` or `start.bat` script
5. View Tomcat dashboard at `http://localhost:8080`
6. Click on `Manager App` then enter `tomcat` as username and password in the prompt
7. You will see all webapps deployed

# Report Design
1. Download and extract the JasperSoft Studio Professional archive
2. Open the `JasperSoft Studio Professional` executable in `TIB_js-jss_x.x.x` directory.
3. Create a project then select the `JasperReports Project` template under the Jaspersoft Studio
4. Design and build the template
5. Copy the `.jrxml` and the data adapter xml file from your project directory to `[JRIO_ROOT]/repository/samples/reports`. It is recommended to create a separate folder for the report template specially if it includes static assets like images, fonts, etc.
6. For data sources that are not from JDBC (csv, xls, etc), copy and paste to `[JRIO_ROOT]/repository/samples/data`

# Demo
### IntelliJ IDEA
1. download the ZIP file or clone the repo using the `git clone` command
2. open the project using your favorite IDE (IntelliJ IDEA was used)
3. right click on the pom.xml file them Maven -> package to build the WAR file
4. copy the WAR file from `[PROJECT_ROOT]/target/` to `tomcat/webapps` dir
5. stop the Tomcat server by running the `stop.sh`/`stop.bat`
6. kill the java process running the `tomcat-juli.jar` after stopping the Tomcat server to avoid having multiple process and running out of memory
7. run `start.sh`/`start.bat` from the terminal
6. from Tomcat dashboard manager click on the SNAPSHOT of demo then go to `/api/welcome`
7. the following URLs will also be available:
    - `/jrio-client` - static resources
    - `/jrio-docs` - docs for jrio
    - `/jrio` - JasperReports IO REST API
    - `/jrio-docs/swagger-ui/index-jrio.html` - JasperReports IO REST API reference
    - `/demo` - HTML embed sample
7. click any button to display the report
    - `Generate Pdf` will use the Spring Boot API to generate a PDF and view in the browser
    - `Basic embed` demonstrates how to embed the report generated by the JasperReports IO server
    - `Pagination` demonstrates how use pagination in reports
    - `Export` demonstrates the exporting of report to different formats
8. You can use the REST API of this demo by sending requests to the following routes:
    - GET `/api/users` - gets all users from database
    - GET `/api/users/{id}` - will get the user with the specific `id`
    - POST `/api/users` - will insert user data
    - PUT `/api/users/{id}` - will update the user with `id`
    - DELETE `/api/users/{id}` - will delete the user with `id`

# Testing
- [x] Tested on linux 5.8 running Manjaro
- [ ] Tested on Windows with native binaries
- [ ] Tested on WSL2
